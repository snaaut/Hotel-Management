{"ast":null,"code":"var _jsxFileName = \"D:\\\\DATN\\\\FE\\\\Hotel-Management\\\\src\\\\Context\\\\Context.jsx\";\nimport React, { Component } from \"react\";\n\n// import data\nimport items from \"../Data/data\";\n\n// react context-api\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RoomContext = /*#__PURE__*/React.createContext();\nclass RoomProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      rooms: [],\n      sortedRooms: [],\n      featuredRooms: [],\n      loading: true,\n      type: \"all\",\n      capacity: 1,\n      price: 0,\n      minPrice: 0,\n      maxPrice: 0,\n      minSize: 0,\n      maxSize: 0,\n      breakfast: false,\n      pets: false\n    };\n    this.getRoom = slug => {\n      let tempRooms = [...this.state.rooms];\n      const room = tempRooms.find(room => room.slug === slug);\n      return room;\n    };\n    this.handleChange = event => {\n      /* const type = event.target.type;\r\n      const name = event.target.name;\r\n      const value = event.target.value; */\n      /* console.log(\r\n        `this is type: ${type}, this is name: ${name}, this is value: ${value}`\r\n      ); */\n\n      const target = event.target;\n      const value = target.type === \"checkbox\" ? target.checked : target.value;\n      const name = event.target.name;\n      console.log(target, value, name);\n      this.setState({\n        [name]: value\n      }, this.filterRooms);\n    };\n    this.filterRooms = () => {\n      let {\n        rooms,\n        type,\n        capacity,\n        price,\n        minSize,\n        maxSize,\n        breakfast,\n        pets\n      } = this.state;\n\n      // all the room\n      let tempRooms = [...rooms];\n\n      // transform value\n      capacity = parseInt(capacity);\n      price = parseInt(price);\n\n      // filter by type\n      if (type !== \"all\") {\n        tempRooms = tempRooms.filter(room => room.type === type);\n      }\n\n      // filter by capacity\n      if (capacity !== 1) {\n        tempRooms = tempRooms.filter(room => room.capacity >= capacity);\n      }\n\n      // filter by price\n      tempRooms = tempRooms.filter(room => room.price <= price);\n\n      // filter bt size\n      tempRooms = tempRooms.filter(room => room.size >= minSize && room.size <= maxSize);\n\n      // filter by breakfast\n      if (breakfast) {\n        tempRooms = tempRooms.filter(room => room.breakfast === true);\n      }\n\n      // filter by pets\n      if (pets) {\n        tempRooms = tempRooms.filter(room => room.pets === true);\n      }\n\n      // change state\n      this.setState({\n        sortedRooms: tempRooms\n      });\n    };\n  }\n  // getDate\n  componentDidMount() {\n    // this.getData\n    let rooms = this.formatDate(items);\n    let featuredRooms = rooms.filter(room => room.featured === true);\n    let maxPrice = Math.max(...rooms.map(item => item.price));\n    let maxSize = Math.max(...rooms.map(item => item.size));\n    this.setState({\n      rooms,\n      featuredRooms,\n      sortedRooms: rooms,\n      loading: false,\n      price: maxPrice,\n      maxPrice,\n      maxSize\n    });\n  }\n  formatDate(items) {\n    let tempItems = items.map(item => {\n      let id = item.sys.id;\n      let images = item.fields.images.map(image => image.fields.file.url);\n      let room = {\n        ...item.fields,\n        images,\n        id\n      };\n      return room;\n    });\n    return tempItems;\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(RoomContext.Provider, {\n      value: {\n        ...this.state,\n        getRoom: this.getRoom,\n        handleChange: this.handleChange\n      },\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this);\n  }\n}\nconst RoomConsumer = RoomContext.Consumer;\nexport function withRoomConsumer(Component) {\n  return function ConsumerWrapper(props) {\n    return /*#__PURE__*/_jsxDEV(RoomConsumer, {\n      children: value => /*#__PURE__*/_jsxDEV(Component, {\n        ...props,\n        context: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this);\n  };\n}\nexport { RoomProvider, RoomConsumer, RoomContext };","map":{"version":3,"names":["React","Component","items","jsxDEV","_jsxDEV","RoomContext","createContext","RoomProvider","constructor","args","state","rooms","sortedRooms","featuredRooms","loading","type","capacity","price","minPrice","maxPrice","minSize","maxSize","breakfast","pets","getRoom","slug","tempRooms","room","find","handleChange","event","target","value","checked","name","console","log","setState","filterRooms","parseInt","filter","size","componentDidMount","formatDate","featured","Math","max","map","item","tempItems","id","sys","images","fields","image","file","url","render","Provider","children","props","fileName","_jsxFileName","lineNumber","columnNumber","RoomConsumer","Consumer","withRoomConsumer","ConsumerWrapper","context"],"sources":["D:/DATN/FE/Hotel-Management/src/Context/Context.jsx"],"sourcesContent":["import React, { Component } from \"react\";\r\n\r\n// import data\r\nimport items from \"../Data/data\";\r\n\r\n// react context-api\r\nconst RoomContext = React.createContext();\r\n\r\nclass RoomProvider extends Component {\r\n  state = {\r\n    rooms: [],\r\n    sortedRooms: [],\r\n    featuredRooms: [],\r\n    loading: true,\r\n    type: \"all\",\r\n    capacity: 1,\r\n    price: 0,\r\n    minPrice: 0,\r\n    maxPrice: 0,\r\n    minSize: 0,\r\n    maxSize: 0,\r\n    breakfast: false,\r\n    pets: false,\r\n  };\r\n\r\n  // getDate\r\n  componentDidMount() {\r\n    // this.getData\r\n    let rooms = this.formatDate(items);\r\n    let featuredRooms = rooms.filter((room) => room.featured === true);\r\n\r\n    let maxPrice = Math.max(...rooms.map((item) => item.price));\r\n    let maxSize = Math.max(...rooms.map((item) => item.size));\r\n\r\n    this.setState({\r\n      rooms,\r\n      featuredRooms,\r\n      sortedRooms: rooms,\r\n      loading: false,\r\n      price: maxPrice,\r\n      maxPrice,\r\n      maxSize,\r\n    });\r\n  }\r\n\r\n  formatDate(items) {\r\n    let tempItems = items.map((item) => {\r\n      let id = item.sys.id;\r\n      let images = item.fields.images.map((image) => image.fields.file.url);\r\n\r\n      let room = { ...item.fields, images, id };\r\n      return room;\r\n    });\r\n    return tempItems;\r\n  }\r\n\r\n  getRoom = (slug) => {\r\n    let tempRooms = [...this.state.rooms];\r\n    const room = tempRooms.find((room) => room.slug === slug);\r\n    return room;\r\n  };\r\n\r\n  handleChange = (event) => {\r\n    /* const type = event.target.type;\r\n    const name = event.target.name;\r\n    const value = event.target.value; */\r\n    /* console.log(\r\n      `this is type: ${type}, this is name: ${name}, this is value: ${value}`\r\n    ); */\r\n\r\n    const target = event.target;\r\n    const value = target.type === \"checkbox\" ? target.checked : target.value;\r\n    const name = event.target.name;\r\n    console.log(target, value, name);\r\n\r\n    this.setState(\r\n      {\r\n        [name]: value,\r\n      },\r\n      this.filterRooms\r\n    );\r\n  };\r\n\r\n  filterRooms = () => {\r\n    let {\r\n      rooms,\r\n      type,\r\n      capacity,\r\n      price,\r\n      minSize,\r\n      maxSize,\r\n      breakfast,\r\n      pets,\r\n    } = this.state;\r\n\r\n    // all the room\r\n    let tempRooms = [...rooms];\r\n\r\n    // transform value\r\n    capacity = parseInt(capacity);\r\n    price = parseInt(price);\r\n\r\n    // filter by type\r\n    if (type !== \"all\") {\r\n      tempRooms = tempRooms.filter((room) => room.type === type);\r\n    }\r\n\r\n    // filter by capacity\r\n    if (capacity !== 1) {\r\n      tempRooms = tempRooms.filter((room) => room.capacity >= capacity);\r\n    }\r\n\r\n    // filter by price\r\n    tempRooms = tempRooms.filter((room) => room.price <= price);\r\n\r\n    // filter bt size\r\n    tempRooms = tempRooms.filter(\r\n      (room) => room.size >= minSize && room.size <= maxSize\r\n    );\r\n\r\n    // filter by breakfast\r\n    if (breakfast) {\r\n      tempRooms = tempRooms.filter((room) => room.breakfast === true);\r\n    }\r\n\r\n    // filter by pets\r\n    if (pets) {\r\n      tempRooms = tempRooms.filter((room) => room.pets === true);\r\n    }\r\n\r\n    // change state\r\n    this.setState({\r\n      sortedRooms: tempRooms,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <RoomContext.Provider\r\n        value={{\r\n          ...this.state,\r\n          getRoom: this.getRoom,\r\n          handleChange: this.handleChange,\r\n        }}\r\n      >\r\n        {this.props.children}\r\n      </RoomContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nconst RoomConsumer = RoomContext.Consumer;\r\n\r\nexport function withRoomConsumer(Component) {\r\n  return function ConsumerWrapper(props) {\r\n    return (\r\n      <RoomConsumer>\r\n        {(value) => <Component {...props} context={value} />}\r\n      </RoomConsumer>\r\n    );\r\n  };\r\n}\r\n\r\nexport { RoomProvider, RoomConsumer, RoomContext };\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}